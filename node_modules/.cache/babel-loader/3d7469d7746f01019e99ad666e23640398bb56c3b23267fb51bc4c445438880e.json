{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DANIE/Local Sites/campfood/app/public/wp-content/plugins/elementor-pro/assets/js/ProyectoWeb-FrontEnd-mainss/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DANIE/Local Sites/campfood/app/public/wp-content/plugins/elementor-pro/assets/js/ProyectoWeb-FrontEnd-mainss/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/DANIE/Local Sites/campfood/app/public/wp-content/plugins/elementor-pro/assets/js/ProyectoWeb-FrontEnd-mainss/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{getAuth,signInWithEmailAndPassword}from'firebase/auth';import{Link,useNavigate}from'react-router-dom';import{useDispatch}from'react-redux';import{loginAuth}from'../store/slices/auth/Thunks';import{useForm}from\"../../hooks/useForm\";import\"./Css_Styles/Login_Styles.css\";import Paisaje from\"./Imagenes/Rectangle-1.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),emailOrUsername=_useState2[0],setEmailOrUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useForm=useForm(),handleChange=_useForm.handleChange;var navigate=useNavigate();var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var auth;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(!emailOrUsername||!password)){_context.next=4;break;}alert('Por favor, complete todos los campos.');return _context.abrupt(\"return\");case 4:auth=getAuth();// Lógica de inicio de sesión con Firebase\n_context.next=7;return signInWithEmailAndPassword(auth,emailOrUsername,password);case 7:_context.next=9;return dispatch(loginAuth(emailOrUsername,password));case 9:// Redirige a la página de inicio solo si el inicio de sesión es exitoso\nnavigate('/Inicio');_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);// Maneja los errores de inicio de sesión\nif(_context.t0.code==='auth/user-not-found'||_context.t0.code==='auth/wrong-password'){alert('Credenciales inválidas. Por favor, verifica tu correo y contraseña.');}else{// Maneja otros errores\nalert('Error en el inicio de sesión. Por favor, intenta nuevamente.');}case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function handleLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"iniciar-sesion\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"div\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"rectangle\",alt:\"Rectangle\",src:Paisaje}),/*#__PURE__*/_jsx(\"div\",{className:\"text-wrapper\",children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"overlap\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"text-wrapper-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",placeholder:\"    User34@ejemplo.com\",value:emailOrUsername,onChange:function onChange(e){handleChange(e);setEmailOrUsername(e.target.value);}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"p\",children:\"ingrese su email\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-wrapper-3\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"overlap-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"text-wrapper-6\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"********\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-wrapper-4\",children:\"\\xBFNo est\\xE1s registrado?\"}),/*#__PURE__*/_jsx(Link,{to:\"/registro\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-wrapper-5\",children:\"Crea una cuenta\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-iniciar-sesion\",onClick:handleLogin,children:/*#__PURE__*/_jsxs(\"div\",{className:\"overlap-group-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-wrapper-7\",children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsx(\"div\",{className:\"rectangle-2\"})]})})]})});};export default Login;","map":{"version":3,"names":["React","useState","getAuth","signInWithEmailAndPassword","Link","useNavigate","useDispatch","loginAuth","useForm","Paisaje","jsx","_jsx","jsxs","_jsxs","Login","dispatch","_useState","_useState2","_slicedToArray","emailOrUsername","setEmailOrUsername","_useState3","_useState4","password","setPassword","_useForm","handleChange","navigate","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","auth","wrap","_callee$","_context","prev","next","alert","abrupt","t0","code","stop","apply","arguments","className","children","alt","src","htmlFor","type","id","name","placeholder","value","onChange","e","target","to","onClick"],"sources":["C:/Users/DANIE/Local Sites/campfood/app/public/wp-content/plugins/elementor-pro/assets/js/ProyectoWeb-FrontEnd-mainss/src/pages/Login/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport { loginAuth } from '../store/slices/auth/Thunks';\r\nimport { useForm } from \"../../hooks/useForm\"; \r\nimport \"./Css_Styles/Login_Styles.css\";\r\nimport Paisaje from \"./Imagenes/Rectangle-1.png\";\r\n\r\nconst Login = () => {\r\n  const dispatch = useDispatch();\r\n  const [emailOrUsername, setEmailOrUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const { handleChange } = useForm(); \r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      // Validaciones\r\n      if (!emailOrUsername || !password) {\r\n        alert('Por favor, complete todos los campos.');\r\n        return;\r\n      }\r\n\r\n      const auth = getAuth();\r\n      // Lógica de inicio de sesión con Firebase\r\n      await signInWithEmailAndPassword(auth, emailOrUsername, password);\r\n      \r\n      // Lógica para iniciar sesión con Redux\r\n      await dispatch(loginAuth(emailOrUsername, password));\r\n\r\n      // Redirige a la página de inicio solo si el inicio de sesión es exitoso\r\n      navigate('/Inicio');\r\n    } catch (error) {\r\n      // Maneja los errores de inicio de sesión\r\n      if (error.code === 'auth/user-not-found' || error.code === 'auth/wrong-password') {\r\n        alert('Credenciales inválidas. Por favor, verifica tu correo y contraseña.');\r\n      } else {\r\n        // Maneja otros errores\r\n        alert('Error en el inicio de sesión. Por favor, intenta nuevamente.');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"iniciar-sesion\">\r\n      <div className=\"div\">\r\n        <img className=\"rectangle\" alt=\"Rectangle\" src={Paisaje} />\r\n        <div className=\"text-wrapper\">Iniciar sesión</div>\r\n        \r\n        <div className=\"overlap\">\r\n          <label htmlFor=\"username\" className=\"text-wrapper-2\"></label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"username\"\r\n            name=\"username\"\r\n            placeholder=\"    User34@ejemplo.com\"\r\n            value={emailOrUsername}\r\n            onChange={(e) => { handleChange(e); setEmailOrUsername(e.target.value); }}\r\n          />\r\n        </div>\r\n        <p className=\"p\">ingrese su email</p>\r\n\r\n        <div className=\"text-wrapper-3\">Contraseña</div>\r\n\r\n        <div className=\"overlap-group\">\r\n          <label htmlFor=\"password\" className=\"text-wrapper-6\"></label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"********\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"text-wrapper-4\">¿No estás registrado?</div>\r\n        <Link to=\"/registro\">\r\n          <div className=\"text-wrapper-5\">Crea una cuenta</div>\r\n        </Link>\r\n\r\n        {/* Eliminamos el Link a \"/inicio\" y movemos el botón dentro del formulario */}\r\n        <button className=\"btn-iniciar-sesion\" onClick={handleLogin}>\r\n          <div className=\"overlap-group-2\">\r\n            <span className=\"text-wrapper-7\">Iniciar sesión</span>\r\n            <div className=\"rectangle-2\"></div>\r\n          </div>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}